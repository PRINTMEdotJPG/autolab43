# Интеграция Arduino с датчиком расстояния HC-SR04

## Схема подключения

Для работы системы необходимо подключить ультразвуковой датчик HC-SR04 к Arduino следующим образом:

* **VCC** датчика → **5V** на Arduino
* **GND** датчика → **GND** на Arduino
* **TRIG** датчика → **D9** на Arduino (можно изменить в скетче)
* **ECHO** датчика → **D10** на Arduino (можно изменить в скетче)

## Установка скетча

1. Откройте Arduino IDE
2. Загрузите скетч `distance_sensor.ino` в Arduino
3. Выберите правильный порт и тип платы Arduino
4. Загрузите скетч на плату

## Проверка работы датчика

1. Откройте монитор порта в Arduino IDE
2. Убедитесь, что скорость установлена на 9600 бод
3. Вы должны увидеть сообщения в формате `distance:XXX.XX`, где XXX.XX - расстояние в миллиметрах

## Использование в эксперименте

1. Установите датчик на колено трубы, чтобы он отслеживал высоту подъема
2. На странице эксперимента нажмите кнопку "Подключить оборудование" и выберите COM-порт
3. При начале записи данные о расстоянии будут автоматически отправляться вместе с аудиозаписью
4. Система найдет интерференционные минимумы по точкам, где звук становится тише при определенных расстояниях
5. По завершении эксперимента будет построен график зависимости амплитуды звука от расстояния

## Устранение неполадок

* **Нет подключения к Arduino**: 
  - Убедитесь, что Arduino подключен к компьютеру
  - Проверьте, что драйвера COM-порта установлены
  - Попробуйте переподключить USB-кабель
  
* **Некорректные измерения расстояния**:
  - Убедитесь, что датчик направлен на плоскую поверхность
  - Проверьте правильность подключения проводов
  - Убедитесь, что напряжение питания стабильно (5В)

* **Не найдены интерференционные минимумы**:
  - Убедитесь, что труба настроена правильно
  - Настройте частоту сигнала для лучшего резонанса
  - Поднимайте колено трубы медленно для более точных измерений 